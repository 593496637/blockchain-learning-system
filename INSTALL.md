# ğŸ› ï¸ å®‰è£…ä¸ä½¿ç”¨æŒ‡å— (æ›´æ–°ç‰ˆ)

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **Node.js**: 16.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm**: 7.0 æˆ–æ›´é«˜ç‰ˆæœ¬ (æˆ–ä½¿ç”¨ yarn)
- **æ“ä½œç³»ç»Ÿ**: Windowsã€macOSã€Linux

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/593496637/blockchain-learning-system.git
cd blockchain-learning-system
```

### 2. å¯åŠ¨ç³»ç»Ÿ

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ (æ¨èï¼ŒLinux/macOS)

```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x start.sh

# è¿è¡Œå¯åŠ¨è„šæœ¬
./start.sh
```

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨ (Windows/å…¨å¹³å°)

```bash
# ç»ˆç«¯1 - å¯åŠ¨åç«¯
cd backend
npm install
npm run dev

# ç»ˆç«¯2 - å¯åŠ¨å‰ç«¯  
cd frontend
npm install
npm start
```

### 3. è®¿é—®ç³»ç»Ÿ

- **å‰ç«¯ç•Œé¢**: http://localhost:3000
- **åç«¯API**: http://localhost:3001
- **å¥åº·æ£€æŸ¥**: http://localhost:3001/api/health

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1: "crypto-js" æ¨¡å—æ‰¾ä¸åˆ°

**è§£å†³æ–¹æ¡ˆ**: æˆ‘ä»¬å·²ç»ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ï¼Œåç«¯ç°åœ¨ä½¿ç”¨Node.jså†…ç½®çš„ `crypto` æ¨¡å—ã€‚

**å¦‚æœä»æœ‰é—®é¢˜**:
```bash
cd backend
rm -rf node_modules package-lock.json
npm install
```

### é—®é¢˜2: å‰ç«¯æ— æ³•å¯åŠ¨

**åŸå› **: ç¼ºå°‘å¿…è¦çš„å‰ç«¯æ–‡ä»¶

**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶å­˜åœ¨ï¼š
- `frontend/public/index.html`
- `frontend/src/index.tsx`
- `frontend/src/App.tsx`

**é‡æ–°å®‰è£…å‰ç«¯**:
```bash
cd frontend
rm -rf node_modules package-lock.json
npm install
npm start
```

### é—®é¢˜3: start.sh æƒé™ä¸å¤Ÿ

**Linux/macOS**:
```bash
chmod +x start.sh
./start.sh
```

**Windows** (ä½¿ç”¨Git Bashæˆ–WSL):
```bash
bash start.sh
```

### é—®é¢˜4: ç«¯å£è¢«å ç”¨

**æ£€æŸ¥ç«¯å£å ç”¨**:
```bash
# æ£€æŸ¥3001ç«¯å£(åç«¯)
lsof -i :3001

# æ£€æŸ¥3000ç«¯å£(å‰ç«¯)  
lsof -i :3000
```

**ç»ˆæ­¢å ç”¨è¿›ç¨‹**:
```bash
# ç»ˆæ­¢è¿›ç¨‹ (æ›¿æ¢PID)
kill -9 <PID>
```

### é—®é¢˜5: npm å®‰è£…ä¾èµ–å¤±è´¥

**æ¸…ç†ç¼“å­˜å¹¶é‡æ–°å®‰è£…**:
```bash
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

**ä½¿ç”¨å…¶ä»–é•œåƒæº**:
```bash
npm install --registry https://registry.npmmirror.com
```

## ğŸ“– ä½¿ç”¨æ•™ç¨‹

### ç¬¬ä¸€æ¬¡ä½¿ç”¨ç³»ç»Ÿ

1. **ç³»ç»Ÿå¯åŠ¨å**ï¼Œè®¿é—® http://localhost:3000
2. **ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»º**æµ‹è¯•ç”¨æˆ·å’ŒçŸ¿å·¥ï¼š
   - ç”¨æˆ·ï¼šAlice (100ä»£å¸), Bob (50ä»£å¸) 
   - çŸ¿å·¥ï¼šMiner_Alpha, Miner_Beta
3. **å¼€å§‹å­¦ä¹ **ï¼ŒæŒ‰ç…§æ¬¢è¿é¡µé¢çš„æŒ‡å¼•æ“ä½œ

### å®Œæ•´æ“ä½œæµç¨‹

#### æ­¥éª¤1: ç”¨æˆ·ç®¡ç†
- ç‚¹å‡»ä¾§è¾¹æ "ç”¨æˆ·ç®¡ç†"
- åˆ›å»ºæ–°ç”¨æˆ·æˆ–æŸ¥çœ‹ç°æœ‰ç”¨æˆ·
- æŸ¥çœ‹ç”¨æˆ·é’±åŒ…åœ°å€å’Œä½™é¢

#### æ­¥éª¤2: ä»£å¸ç®¡ç†  
- ç‚¹å‡»"ä»£å¸ç®¡ç†"
- ç»™ç”¨æˆ·åˆ†é…åˆå§‹ä»£å¸
- æŸ¥çœ‹ä»£å¸åˆ†å¸ƒç»Ÿè®¡

#### æ­¥éª¤3: æ³¨å†ŒçŸ¿å·¥
- ç‚¹å‡»"çŸ¿å·¥ç®¡ç†"  
- æ³¨å†Œæ–°çš„çŸ¿å·¥è´¦æˆ·
- æŸ¥çœ‹çŸ¿å·¥çŠ¶æ€å’ŒæŒ–çŸ¿è®°å½•

#### æ­¥éª¤4: åˆ›å»ºäº¤æ˜“
- ç‚¹å‡»"äº¤æ˜“ç®¡ç†"
- é€‰æ‹©å‘é€æ–¹å’Œæ¥æ”¶æ–¹
- è¾“å…¥è½¬è´¦é‡‘é¢ï¼Œåˆ›å»ºäº¤æ˜“
- äº¤æ˜“ä¼šè¿›å…¥äº¤æ˜“æ± ç­‰å¾…æ‰“åŒ…

#### æ­¥éª¤5: æ‰§è¡ŒæŒ–çŸ¿
- è¿”å›"çŸ¿å·¥ç®¡ç†"
- é€‰æ‹©çŸ¿å·¥æ‰§è¡ŒæŒ–çŸ¿æ“ä½œ
- çŸ¿å·¥ä¼šæ‰“åŒ…äº¤æ˜“å¹¶ç”Ÿæˆæ–°åŒºå—
- è·å¾—åŒºå—å¥–åŠ±å’Œæ‰‹ç»­è´¹

#### æ­¥éª¤6: æµè§ˆåŒºå—é“¾
- ç‚¹å‡»"åŒºå—æµè§ˆå™¨"
- æŸ¥çœ‹å®Œæ•´çš„åŒºå—é“¾
- ç‚¹å‡»åŒºå—æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
- æœç´¢ç‰¹å®šçš„äº¤æ˜“æˆ–åŒºå—

## ğŸ”§ ç³»ç»Ÿé…ç½®

### é»˜è®¤é…ç½®å‚æ•°

```typescript
{
  blockReward: 10,        // æŒ–çŸ¿å¥–åŠ± (ä»£å¸)
  minFee: 0.1,           // æœ€å°æ‰‹ç»­è´¹ (ä»£å¸)  
  difficulty: 4,         // æŒ–çŸ¿éš¾åº¦ (å‰ç¼€0ä¸ªæ•°)
  maxTransactionsPerBlock: 10  // æ¯åŒºå—æœ€å¤§äº¤æ˜“æ•°
}
```

### ä¿®æ”¹é…ç½®

è¦ä¿®æ”¹ç³»ç»Ÿé…ç½®ï¼Œç¼–è¾‘ `backend/src/blockchain.ts` ä¸­çš„ `config` å¯¹è±¡ï¼š

```typescript
private config: SystemConfig = {
  blockReward: 20,    // ä¿®æ”¹æŒ–çŸ¿å¥–åŠ±
  minFee: 0.05,      // ä¿®æ”¹æ‰‹ç»­è´¹
  difficulty: 3,     // ä¿®æ”¹æŒ–çŸ¿éš¾åº¦ (æ•°å­—è¶Šå°è¶Šå®¹æ˜“)
  maxTransactionsPerBlock: 20
};
```

**æ³¨æ„**: ä¿®æ”¹é…ç½®åéœ€è¦é‡å¯åç«¯æœåŠ¡ã€‚

## ğŸ› å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

### 1. EADDRINUSE: address already in use :::3001

**åŸå› **: ç«¯å£3001å·²è¢«å ç”¨
**è§£å†³**: ç»ˆæ­¢å ç”¨è¿›ç¨‹æˆ–æ›´æ”¹ç«¯å£

### 2. Cannot find module 'crypto-js'

**åŸå› **: ä¾èµ–é…ç½®é”™è¯¯
**è§£å†³**: é‡æ–°å®‰è£…åç«¯ä¾èµ–

### 3. Module not found: Can't resolve './App'

**åŸå› **: å‰ç«¯æ–‡ä»¶ç¼ºå¤±
**è§£å†³**: ç¡®ä¿æ‰€æœ‰å‰ç«¯æ–‡ä»¶éƒ½å·²æ­£ç¡®åˆ›å»º

### 4. å‰ç«¯ç™½å±

**åŸå› **: Reactåº”ç”¨å¯åŠ¨å¤±è´¥
**è§£å†³**: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ï¼Œé‡æ–°å®‰è£…ä¾èµ–

## ğŸ“± å¼€å‘ç¯å¢ƒé…ç½®

### VSCode æ¨èæ’ä»¶

```json
{
  "recommendations": [
    "ms-vscode.vscode-typescript-next",
    "bradlc.vscode-tailwindcss", 
    "ms-vscode.vscode-json",
    "esbenp.prettier-vscode"
  ]
}
```

### è°ƒè¯•é…ç½®

**åç«¯è°ƒè¯•** (VSCode):
```json
{
  "type": "node",
  "request": "launch",
  "name": "Debug Backend",
  "program": "${workspaceFolder}/backend/src/index.ts",
  "outFiles": ["${workspaceFolder}/backend/dist/**/*.js"],
  "runtimeArgs": ["-r", "ts-node/register"]
}
```

## ğŸ”„ é‡ç½®ç³»ç»Ÿ

å¦‚éœ€é‡ç½®æ•´ä¸ªåŒºå—é“¾ç³»ç»Ÿï¼š

1. åœæ­¢å‰åç«¯æœåŠ¡ (Ctrl+C)
2. é‡æ–°å¯åŠ¨åç«¯æœåŠ¡
3. ç³»ç»Ÿä¼šè‡ªåŠ¨é‡æ–°åˆå§‹åŒ–

## ğŸŒ éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

**âš ï¸ è­¦å‘Š**: æ­¤ç³»ç»Ÿä»…ç”¨äºå­¦ä¹ ç›®çš„ï¼Œä¸åº”éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

å¦‚éœ€éƒ¨ç½²ç”¨äºæ¼”ç¤º:

### åç«¯æ„å»º
```bash
cd backend
npm run build
npm start
```

### å‰ç«¯æ„å»º
```bash
cd frontend
npm run build
# ä½¿ç”¨é™æ€æ–‡ä»¶æœåŠ¡å™¨æä¾› build ç›®å½•
```

## ğŸ“š APIæ–‡æ¡£

### ä¸»è¦APIç«¯ç‚¹

```bash
# ç”¨æˆ·ç®¡ç†
POST /api/users              # åˆ›å»ºç”¨æˆ·
GET  /api/users              # è·å–ç”¨æˆ·åˆ—è¡¨  
GET  /api/users/:address     # è·å–ç”¨æˆ·è¯¦æƒ…

# ä»£å¸ç®¡ç†
POST /api/tokens/allocate    # åˆ†é…ä»£å¸

# äº¤æ˜“ç®¡ç†  
POST /api/transactions       # åˆ›å»ºäº¤æ˜“
GET  /api/transactions/pending  # è·å–äº¤æ˜“æ± 

# çŸ¿å·¥ç®¡ç†
POST /api/miners             # æ³¨å†ŒçŸ¿å·¥
GET  /api/miners             # è·å–çŸ¿å·¥åˆ—è¡¨
POST /api/mining/mine        # æ‰§è¡ŒæŒ–çŸ¿

# åŒºå—é“¾æµè§ˆ
GET  /api/blockchain/info    # è·å–é“¾ä¿¡æ¯
GET  /api/blockchain/blocks  # è·å–æ‰€æœ‰åŒºå—
GET  /api/blockchain/blocks/:index  # è·å–æŒ‡å®šåŒºå—

# ç³»ç»Ÿå¥åº·
GET  /api/health             # å¥åº·æ£€æŸ¥
```

## ğŸ’¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **é™ä½æŒ–çŸ¿éš¾åº¦**: åœ¨æµ‹è¯•æ—¶å°† `difficulty` è®¾ä¸º 2-3
2. **å‡å°‘äº¤æ˜“æ± å¤§å°**: è°ƒæ•´ `maxTransactionsPerBlock`
3. **ä½¿ç”¨ç”Ÿäº§æ„å»º**: å‰ç«¯ä½¿ç”¨ `npm run build`

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡ä½¿ç”¨æ­¤ç³»ç»Ÿï¼Œä½ å°†å­¦ä¼šï¼š

1. **åŒºå—é“¾åŸºç¡€æ¦‚å¿µ**
   - åŒºå—ç»“æ„å’Œå“ˆå¸Œé“¾æ¥
   - äº¤æ˜“éªŒè¯å’Œæ•°å­—ç­¾å
   - å…±è¯†æœºåˆ¶å’ŒæŒ–çŸ¿åŸç†

2. **åŠ å¯†æŠ€æœ¯åº”ç”¨**  
   - SHA-256å“ˆå¸Œç®—æ³•
   - å…¬ç§é’¥åŠ å¯†ä½“ç³»
   - éšæœºæ•°ç”Ÿæˆ

3. **ç³»ç»Ÿæ¶æ„è®¾è®¡**
   - å‰åç«¯åˆ†ç¦»æ¶æ„
   - RESTful APIè®¾è®¡
   - å®æ—¶æ•°æ®åŒæ­¥

4. **å®é™…æ“ä½œç»éªŒ**
   - é’±åŒ…åœ°å€ç”Ÿæˆ
   - äº¤æ˜“åˆ›å»ºå’Œå¹¿æ’­
   - æŒ–çŸ¿å’ŒåŒºå—ç”Ÿæˆ
   - åŒºå—é“¾æ•°æ®æŸ¥è¯¢

## âš ï¸ é‡è¦è¯´æ˜

æ­¤ç³»ç»Ÿä»…ç”¨äºæ•™è‚²å’Œå­¦ä¹ ç›®çš„ï¼š

- âŒ **ä¸è¦ç”¨äºç”Ÿäº§ç¯å¢ƒ**
- âŒ **ä¸æ”¯æŒçœŸå®çš„èµ„äº§äº¤æ˜“** 
- âŒ **æ²¡æœ‰ç½‘ç»œå®‰å…¨åŠ å›º**
- âŒ **æ²¡æœ‰æ•°æ®æŒä¹…åŒ–**
- âœ… **é€‚åˆå­¦ä¹ åŒºå—é“¾åŸç†**
- âœ… **ç†è§£ç³»ç»Ÿå·¥ä½œæµç¨‹**
- âœ… **å®éªŒä¸åŒçš„å‚æ•°é…ç½®**

---

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·åœ¨GitHubä»“åº“æäº¤Issueï¼ğŸ¤
